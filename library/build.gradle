plugins {
    id 'java-library' //its important to change the java plugin to java-library
    //and now you will be able to get ready jar after running the `build` task

    id 'maven-publish' // for publishing

}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {

    compileOnly "com.amazonaws:aws-java-sdk-core:1.12.205"
    //api -> compile time, runtime as well for the consumer (available at the compile, runtime of the application module code)
    //if you change "compileOnly" to "api" this will result in the 1.12.205 version of aws core sdk to be included in the final app jar

    //will not be provided to a consumer, but we need this to compile our library
    compileOnly "com.amazonaws:aws-java-sdk-cloudfront:1.12.205"

    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'
}

test {
    useJUnitPlatform()
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
        }
    }
}

//you can configure the remote repository to publish: https://www.jetbrains.com/help/idea/add-a-gradle-library-to-the-maven-repository.html#publish_remote